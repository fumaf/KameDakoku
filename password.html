<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
  </head>
  <script type="text/javascript">

    function button_click(value) {
      var target = document.getElementById("searchLink");
      var tes1 = document.getElementById("first") 
      var tes2 = document.getElementById("second")
      var tes3 = document.getElementById("third")
      var tes4 = document.getElementById("fourth")
      var psss = tes1.value + tes2.value + tes3.value + tes4.value;
      target.innerText = psss;
      if (value == psss) {
        target.href = "<?= getAppUrl() ?>?page=set&name=<?= name ?>&password=<?= password ?>";
      }else{
        target.innerText = "ちゃう";
        tes1.value = ""
        tes2.value = ""
        tes3.value = ""
        tes4.value = ""
        
      }
    }

    const outFocus = () => {
    // focusがあたっている要素を取得
    const elem = document.activeElement;
    // 1文字入力したらフォーカスを外す
    if(elem.value.length >= 1) {
      elem.blur();
    }
  }
    const secondFocus = () => {
      var target = document.getElementById("searchLink");
      second.focus();
    }

    const thirdFocus = () => {
      var target = document.getElementById("searchLink");
      third.focus();
    }

  const fourthFocus = () => {
      var target = document.getElementById("searchLink");
      fourth.focus();
    }

  </script>
  <header>
  かめ打刻
</header>
  <body>
  <div><?= name ?></div>
  <!-- cssで他のものをさわれなくする -->
  <input id="first" maxlength="1" inputmode="tel" onkeyup="outFocus()" onblur="secondFocus()"/>
  <input id="second" maxlength="1" inputmode="tel" onkeyup="outFocus()"onblur="thirdFocus()"/>
  <input id="third" maxlength="1" inputmode="tel" onkeyup="outFocus()"onblur="fourthFocus()"/>
  <input id="fourth" maxlength="1" inputmode="tel" onkeyup="button_click(<?= password ?>);" onkeyup="outFocus()"/>

  <a id="searchLink" onclick="aaa(<?= password ?>)">ログイン</a>
  
</body>
</html>
<style>
  body {
    font-family: Verdana, Arial;
    width: 100%;
    height: 100vh;
    background-color: #DFE6F1;
    overflow: hidden;
    margin: 0;
    font-family: "Hiragino Sans", "ヒラギノ角ゴシック";
    font-weight: 900;
  }

  header {
    background-color: white;
    width: 100%;
    height: 10vh;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #295FD6;
    font-size: 60px;

  }
  </stamping>
